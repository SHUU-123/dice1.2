:root{
  --bg:#f3f6fb;
  --card:#ffffff;
  --muted:#98a0b3;
  --accent:#2b7cff;
  --blue-600:#2b7cff;
  --navy:#0d1720;
  --dark-navy:#0f1726;
  --orange:#ff8a3d;
  --shadow: 0 12px 30px rgba(15,22,36,0.08);
  --radius:16px;
  --touch:56px;
  --gap:18px;
  --pad:20px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Helvetica Neue", "Noto Sans JP", system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN";
  background: linear-gradient(180deg,#eef4ff 0%, #f6f8fb 100%);
  color:#0e1720;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Topbar */
.topbar{
  height:56px;
  display:flex;
  align-items:center;
  border-bottom:1px solid rgba(13,23,36,0.04);
  background:transparent;
}
.topbar-inner{
  max-width:1200px;
  width:100%;
  margin:0 auto;
  padding:0 20px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.brand{font-weight:700;color:var(--dark-navy)}
.icon-btn{
  width:44px;height:44px;border-radius:10px;border:none;background:transparent;font-size:18px;cursor:pointer;color:var(--muted)
}

/* Layout */
.page{
  max-width:1200px;
  margin:26px auto;
  display:grid;
  grid-template-columns: 1fr 420px;
  gap:26px;
  padding:0 20px;
  align-items:start;
}

/* Cards */
.card{
  background:var(--card);
  border-radius:var(--radius);
  padding:20px;
  box-shadow:var(--shadow);
}
.left-card{
  min-height:480px;
  padding:28px;
}
.right-card{
  padding:22px;
  min-height:480px;
  display:flex;
  flex-direction:column;
  gap:14px;
}

/* Titles */
.card-title{margin:0 0 12px 0;font-size:18px;font-weight:800;color:var(--dark-navy)}

/* Preset grid */
.preset-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap:14px;
  margin-bottom:14px;
}
.preset-btn{
  background:linear-gradient(180deg,#0d1620,#0f1b29);
  color:#fff;
  border-radius:14px;
  height:84px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  font-size:18px;
  border:none;
  box-shadow: 0 8px 18px rgba(2,6,23,0.18);
  cursor:pointer;
  transition:transform .08s ease, box-shadow .08s ease;
  outline: none;
}
.preset-btn:active{transform:translateY(2px)}
.preset-btn.small{height:68px;font-size:16px}

/* Pager */
.pager-row{
  margin:12px 0 20px 0;
  display:flex;
  gap:10px;
  align-items:center;
}
.pager-row .page-btn{
  background:transparent;border:1px solid rgba(43,124,255,0.12);
  color:var(--blue-600);padding:8px 12px;border-radius:10px;font-weight:700;cursor:pointer;
}
.pager-row .page-btn.active{background:var(--blue-600);color:#fff;box-shadow:0 8px 18px rgba(43,124,255,0.18)}
.pager-row .page-nav{background:transparent;border:none;color:var(--muted);font-weight:700;padding:6px}

/* Controls */
.subhead{margin:6px 0 8px 0;font-weight:700;color:var(--dark-navy)}
.row.control-row{display:flex;gap:12px;align-items:center;margin-bottom:8px}
.select-large, .input-large{
  flex:1;
  height:48px;
  border-radius:12px;
  border:1px solid rgba(14,23,36,0.06);
  padding:10px 14px;
  font-size:16px;
  background:#fbfdff;
  color:var(--dark-navy);
  outline:none;
}
.btn-square{
  width:72px;height:48px;border-radius:12px;border:none;display:inline-flex;align-items:center;justify-content:center;font-weight:800;color:#fff;
  cursor:pointer;box-shadow:0 8px 18px rgba(43,124,255,0.14)
}
.btn-blue{background:linear-gradient(180deg,var(--blue-600),#1f63d6); font-size:16px}

/* Hint */
.hint{color:var(--muted);font-size:13px;margin-top:6px}

/* Right card: log */
.card-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.btn-clear{
  background:linear-gradient(90deg,var(--orange),#ff6f2a);color:#fff;border:none;padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:700;
}
.log-list{
  list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px;overflow:auto;
  max-height: calc(100vh - 300px);
}
.log-item{
  background:#fbfdff;border-radius:12px;padding:14px;border:1px solid rgba(14,23,36,0.03);display:flex;justify-content:space-between;gap:12px;align-items:flex-start;
}
.log-left{flex:1}
.log-left strong{display:block;font-weight:800;margin-bottom:8px}
.log-meta{color:var(--muted);font-size:13px;margin-top:6px}
.log-right{display:flex;flex-direction:column;gap:8px;align-items:flex-end}
.log-del{background:transparent;border:1px solid rgba(13,23,36,0.06);padding:8px 10px;border-radius:10px;cursor:pointer;color:var(--blue-600);font-weight:700}

/* Dice display */
.dice{display:flex;gap:10px;align-items:center;margin-top:8px}
.die{
  background:linear-gradient(180deg,#fbfdff,#f2f7ff);border-radius:10px;padding:10px 14px;font-weight:800;border:1px solid rgba(14,23,36,0.04);min-width:56px;text-align:center;
}
.die.double{background:linear-gradient(180deg,#6b6efc,#4b47f7);color:#fff}

/* Badges */
.badge{
  display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;font-weight:800;margin-right:8px;font-size:13px;color:#fff;
}
.badge.crit{background:linear-gradient(90deg,#10b981,#34d399);color:#022}
.badge.fumble{background:linear-gradient(90deg,#ef4444,#fb7185)}
.badge.double{background:linear-gradient(90deg,#6366f1,#818cf8)}
.badge.streak{background:linear-gradient(90deg,#38bdf8,#7dd3fc);color:#022}

/* Legend */
.legend{margin-top:8px;color:var(--muted);font-size:13px;display:flex;gap:8px;flex-wrap:wrap}
.legend-item{display:inline-flex;align-items:center;padding:6px 8px;border-radius:8px;background:#fff;border:1px solid rgba(14,23,36,0.02);color:var(--muted);font-weight:700}

/* Responsive */
@media (max-width:1000px){
  .page{grid-template-columns: 1fr; padding-bottom:40px}
  .right-card{order:2}
  .left-card{order:1}
  .preset-grid{grid-template-columns: repeat(3, 1fr)}
}
@media (max-width:640px){
  .preset-grid{grid-template-columns: repeat(2, 1fr)}
  .preset-btn{height:72px}
  .btn-square{width:64px;height:44px}
  .select-large, .input-large{height:44px}
}
