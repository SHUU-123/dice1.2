/* 既存 styles.css に最小限の変更を加え、合計表示とタップズーム抑制関連を追加 */

/* base variables */
:root{
  --bg: #f4f7fb;
  --card: #ffffff;
  --muted: #8f98a8;
  --navy: #0b1320;
  --dark-navy: #0f1726;
  --accent: #2b7cff;
  --orange: #ff8a3d;
  --shadow: 0 12px 28px rgba(15,22,36,0.06);
  --radius: 14px;
  --gap: 14px;
}

/* global */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Noto Sans JP", system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN";
  background: linear-gradient(180deg,#f6f8fc 0%, #f3f6fb 100%);
  color:var(--navy);
  -webkit-font-smoothing:antialiased;
  -webkit-text-size-adjust:100%;
}

/* container */
.container{
  max-width:1200px;
  margin:20px auto;
  padding:0 18px 60px;
}

/* top */
.topbar{
  height:56px;
  display:flex;
  align-items:center;
  margin-bottom:10px;
}
.brand{font-weight:800;font-size:18px;color:var(--dark-navy)}

/* layout */
.layout{
  display:grid;
  grid-template-columns: 1fr 460px;
  gap:26px;
  align-items:start;
}

/* card */
.card{
  background:var(--card);
  border-radius:var(--radius);
  padding:20px;
  box-shadow:var(--shadow);
}
.left{min-height:520px}
.right{min-height:520px; display:flex; flex-direction:column; gap:12px;}

/* headings */
.section-title{margin:0 0 14px 0;font-size:18px;font-weight:800;color:var(--dark-navy);}

/* preset grid */
.preset-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap:14px;
  margin-bottom:18px;
}
.preset-btn{
  background:linear-gradient(180deg,#071021,#0b1624);
  color:white;
  height:84px;
  border-radius:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  font-size:18px;
  border:none;
  cursor:pointer;
  box-shadow: 0 8px 20px rgba(2,6,23,0.12);
  transition: transform .06s ease;
  outline:none;
  /* タップ操作のための指定 */
  touch-action: manipulation;
  -webkit-tap-highlight-color: rgba(0,0,0,0.05);
}
.preset-btn:active{transform: translateY(2px)}
.preset-btn.placeholder{background:transparent;box-shadow:none;}

/* pager */
.pager{display:flex;gap:8px;margin-bottom:12px;align-items:center}
.page-btn{
  padding:8px 12px;border-radius:10px;border:1px solid rgba(43,124,255,0.12);background:transparent;color:var(--accent);font-weight:700;cursor:pointer;
  touch-action: manipulation;
}
.page-btn.active{background:var(--accent);color:white;box-shadow:0 8px 18px rgba(43,124,255,0.12)}
.page-nav{background:transparent;border:none;color:var(--muted);font-weight:700}

/* rows / controls */
.label{margin:8px 0 6px 0;font-weight:700}
.row{display:flex;gap:12px;align-items:center;margin-bottom:10px}
.select, .input{
  flex:1;
  height:46px;
  border-radius:10px;
  border:1px solid rgba(14,23,36,0.06);
  padding:10px 14px;
  background:#fbfdff;
  font-size:16px; /* 16px以上でiOSの自動拡大を抑制 */
  color:var(--dark-navy);
  outline:none;
  touch-action: manipulation;
}
.btn-blue{
  width:72px;
  height:46px;
  border-radius:12px;
  border:none;
  background:linear-gradient(180deg,var(--accent),#1f63d6);
  color:white;
  font-weight:800;
  cursor:pointer;
  box-shadow:0 8px 18px rgba(43,124,255,0.12);
  font-size:16px; /* 16px以上を確保 */
  touch-action: manipulation;
}

/* log card */
.card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.btn-clear{
  background:linear-gradient(90deg,var(--orange),#ff6f2a);
  color:white;border:none;padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:800;
  touch-action: manipulation;
}
.log-list{
  list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px;overflow:auto;
  max-height: calc(100vh - 280px);
}
.log-item{
  background:#fbfdff;border-radius:12px;padding:14px;border:1px solid rgba(14,23,36,0.03);display:flex;justify-content:space-between;gap:12px;align-items:flex-start;
}
.log-left{flex:1}
.log-left strong{display:block;font-weight:800;margin-bottom:8px}
.log-meta{color:var(--muted);font-size:13px;margin-top:6px}
.log-right{display:flex;flex-direction:column;gap:8px;align-items:flex-end}
.log-del{background:transparent;border:1px solid rgba(13,23,36,0.06);padding:8px 10px;border-radius:10px;cursor:pointer;color:var(--accent);font-weight:700; touch-action: manipulation;}

/* dice */
.dice{display:flex;gap:10px;align-items:center;margin-top:8px;flex-wrap:wrap}
.die{
  background:linear-gradient(180deg,#fbfdff,#f2f7ff);
  border-radius:10px;padding:10px 14px;font-weight:800;border:1px solid rgba(14,23,36,0.04);min-width:56px;text-align:center;
}
.expr-mod{
  color:var(--muted);font-weight:800;padding:6px 10px;border-radius:8px;border:1px dashed rgba(14,23,36,0.04);
}

/* ---- 合計を見やすくするためのスタイル ---- */
.total-value{
  display:inline-block;
  margin-top:10px;
  background: linear-gradient(90deg,#ffb86b,#ff8a3d);
  color: #04121a;
  font-weight:900;
  padding:8px 12px;
  border-radius:12px;
  font-size:18px;
  box-shadow: 0 8px 20px rgba(255,138,61,0.12);
}

/* badges */
.badge{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;font-weight:800;margin-right:8px;font-size:13px;color:white}
.badge.crit{background:linear-gradient(90deg,#10b981,#34d399);color:#022}
.badge.fumble{background:linear-gradient(90deg,#ef4444,#fb7185)}
.badge.streak{background:linear-gradient(90deg,#38bdf8,#7dd3fc);color:#022}

/* legend */
.legend{margin-top:6px;color:var(--muted);font-size:13px;display:flex;gap:8px;flex-wrap:wrap}
.legend-item{display:inline-flex;align-items:center;padding:6px 8px;border-radius:8px;background:#fff;border:1px solid rgba(14,23,36,0.02);color:var(--muted);font-weight:700}

/* hint / footer */
.hint{color:var(--muted);font-size:13px;margin-top:6px}
.footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:left}

/* responsive */
@media (max-width:1080px){
  .layout{grid-template-columns: 1fr}
  .right{order:2}
  .left{order:1}
  .preset-grid{grid-template-columns: repeat(3,1fr)}
}
@media (max-width:640px){
  .preset-grid{grid-template-columns: repeat(2,1fr)}
  .preset-btn{height:72px}
  .btn-blue{width:64px;height:44px}
  .select, .input{height:44px}
}
